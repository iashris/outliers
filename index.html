<!DOCTYPE html>
<html>
<head>
	<title>Outliers : Launch</title>
</head>
<link rel="stylesheet" type="text/css" href="main.css">
<body>

<div class="borders">
	  	<div class="top"></div>
	  	<div class="bottom"></div>
	  	<div class="left"></div>
	  	<div class="right"></div>
  	</div>

 <audio id="audiofile" src="speech.mp3" controls></audio><br>
        <div id="subtitles"></div>
        <div id="continue">

        <h3>Dr. APJ Abdul Kalam</h3>
        <button>Continue</button>




        </div>
</body>

        <script>
        ( function(win, doc) {
            var audioPlayer = doc.getElementById("audiofile");
            var subtitles = doc.getElementById("subtitles");
            var syncData = [
                  { "start": ".01","text": "History " },
                  { "start": ".35","text": "has " },
                  { "start": "0.6","text": "proven" },
                  {"start": "1.9","text": "that " },
                  {"start": "2.1","text": "those " },
                  {"start": "2.5","text": "who " },
                  {"start": "2.8","text": "dare " },
                  {"start": "3.3","text": "to " },
                  {"start": "3.5","text": "imagine " },
                  {"start": "3.8","text": "the " },
                  {"start": "4","text": "impossible" },
                  {"end": "8","start": "5.3","text": "are " },
                  {"end": "8","start": "5.5","text": "the " },
                  {"end": "8","start": "5.8","text": "ones " },
                  {"end": "8","start": "6.3","text": "who " },
                  {"end": "8","start": "6.6","text": "break " },
                  {"end": "8","start": "6.8","text": "all " },
                  {"end": "8","start": "7","text": "the " },
                  {"end": "8","start": "7.2","text": "given " },
                  {"end": "8","start": "8","text": "limitations. " },
                  {"end": "12","start": "9.5","text": "In " },
                  {"end": "12","start": "9.6","text": "every " },
                  {"end": "12","start": "9.8","text": "field " },
                  {"end": "12","start": "10.5","text": "of " },
                  {"end": "12","start": "10.7","text": "human " },
                  {"end": "12","start": "11.4","text": "endeavor, "},
                  {"end": "14","start": "12.7","text": "the " },
                  {"end": "14","start": "12.9","text": "names " },
                  {"end": "14","start": "13.1","text": "of " },
                  {"end": "14","start": "13.3","text": "the " },
                  {"end": "14","start": "13.6","text": "people " },
                  {"end": "17","start": "14","text": "who " },
                  {"end": "17","start": "14.2","text": "imagine " },
                  {"end": "17","start": "14.6","text": "the " },
                  {"end": "17","start": "14.85","text": "impossible " },
                  {"end": "17","start": "15.5","text": "are " },
                  {"end": "17","start": "15.8","text": "engraved " },
                  {"end": "17","start": "16.2","text": "in " },
                  {"end": "17","start": "16.4","text": "our " },
                  {"end": "17","start": "16.6","text": "history. " },
                  {"end": "20","start": "17.8","text": "By " },
                  {"end": "20","start": "18","text": "breaking " },
                  {"end": "20","start": "18.5","text": "the " },
                  {"end": "20","start": "18.7","text": "limits " },
                  {"end": "20","start": "19","text": "of " },
                  {"end": "20","start": "19.25","text": "their " },
                  {"end": "20","start": "19.4","text": "imagination," },
                  {"end": "22","start": "20.2","text": "they " },
                  {"end": "22","start": "20.4","text": "change " },
                  {"end": "22","start": "20.6","text": "the " },
                  {"end": "22","start": "20.8","text": "world." }
                  /* ... and so on ... full json is in the demo */
                ];
            createSubtitle();

            function createSubtitle()
            {
                var element;
                for (var i = 0; i < syncData.length; i++) {
                    element = doc.createElement('span');
                    element.setAttribute("id", "c_" + i);
                    element.innerText = syncData[i].text + " ";
                    element.style.visibility='hidden';
                    subtitles.appendChild(element);
                }
            }

            audioPlayer.addEventListener("timeupdate", function(e){
                syncData.forEach(function(element, index, array){
                    if( audioPlayer.currentTime >= element.start)
                        subtitles.children[index].style.visibility = 'visible';
                });
            });
            audioPlayer.play();
            audioPlayer.onended=function(){
            	document.getElementById('continue').style.visibility='visible';
            }
        }(window, document));
		
        </script>
</html>